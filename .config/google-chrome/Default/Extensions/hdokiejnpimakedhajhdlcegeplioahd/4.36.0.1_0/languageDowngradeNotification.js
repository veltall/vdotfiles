var LanguageDowngradeNotification=function(){var e=document.querySelector("#languageDowngradeNotification"),n={"en-US":"English","de-DE":"Deutsch","es-ES":"Español","fr-FR":"Français","it-IT":"Italiano","nl-NL":"Nederlands","pt-BR":"Português"};function a(){e=document.querySelector("#languageDowngradeNotification"),$(e).load("/newvault/languageDowngradeNotification.html",function(){e.classList.add("show"),document.querySelector(".languageDowngradeNotification__step--main").classList.add("show"),document.body.classList.add("languageDowngradeNotificationIsVisible"),r(),g(),bg.sendLpImprove("language_downgrade_notification_seen",{source:"web"})})}function o(e){e.preventDefault(),t()}function t(){e.classList.remove("show"),document.body.classList.remove("languageDowngradeNotificationIsVisible"),bg.setLanguageNotificationDismissal(function(){bg.sendLpImprove("language_downgrade_notification_dismiss",{source:"web"})})}function i(e){e.preventDefault();var a=bg.get("g_language")||"en-US",n=document.querySelector("#languageDowngradeNotificationLanguageSelector").value;bg.saveUserLanguage(n,function(){bg.switchLanguage(n),bg.sendLpImprove("language_downgrade_notification_update",{previous_language:a,selected_language:n,source:"web"}),bg.setLanguageNotificationDismissal(),document.querySelector(".languageDowngradeNotification__step--main").classList.remove("show"),document.querySelector(".languageDowngradeNotification__step--success").classList.add("show")},function(){throw dialogs.alert.open({title:"Error",text:["An unexpected error occurred when changing your language.","Please try again later"]}),new Error("Error while saving user language preference")})}function g(){var e=document.querySelector("#languageDowngradeNotificationClose"),a=document.querySelector("#languageDowngradeNotificationForm");e.addEventListener("click",o),a.addEventListener("submit",i)}function r(){var e=document.querySelector("#languageDowngradeNotificationLanguageSelector");for(var a in n)e.options.add(new Option(n[a],a))}return{show:a}}();
//# sourceMappingURL=sourcemaps/languageDowngradeNotification.js.map
